---
title: "Sending JSON"
description: "Sending JSON responses for modern APIs."
sidebar:
  order: 13
  label: "Sending JSON"
  draft: false
---

import { LinkButton } from "@astrojs/starlight/components";

## The Industry Standard

In the modern web stack, we barely send HTML files from the server anymore. We send raw data, and the client (React, Vue, mobile app) renders it. The standard container for this data is **JSON**.

Express makes this exceedingly easy. Instead of `res.send()`, we use `res.json()`.

### Modern Digital Cargo

<img
  src="/assets/lessons/02-server-express-way/03-digital-cargo.png"
  alt="A futuristic armored transport truck speeding down a neon highway. The back is open revealing glowing cubes of JSON data."
  width="100%"
/>

_Fig 1: Delivering structured data._

### res.json()

```javascript
app.get("/api/user", (req, res) => {
  const user = {
    name: "Han Solo",
    ship: "Falcon",
    parsecs: 12,
  };

  // The Gold Standard
  res.json(user);
});
```

`res.json()` does two important things:

1.  Converts our JavaScript object/array into a JSON string.
2.  Sets the `Content-Type` header to `application/json` automatically.

### Simulating a Database (Loading from Disk)

Real apps use databases, but for learning, a JSON file is a great substitute. We can use what we learned in the previous lessons (`path` and file reading) to serve "dynamic" data.

```javascript
const fs = require("fs");
const path = require("path");

app.get("/api/inventory", (req, res) => {
  // 1. Find the file
  const filePath = path.join(__dirname, "data", "inventory.json");

  // 2. Read the file
  fs.readFile(filePath, "utf8", (err, data) => {
    if (err) {
      // Always handle your errors!
      return res.status(500).send("Database System Failure");
    }

    // 3. Parse and Send
    const inventory = JSON.parse(data);
    res.json(inventory);
  });
});
```

This pattern—**Read, Parse, Send**—is the grandfather of all API logic.

---

## Extra Bits & Bytes

<LinkButton
  href="https://expressjs.com/en/4x/api.html#res.json"
  icon="external"
  variant="secondary"
>
  Express API: res.json()
</LinkButton>

<div class="next-step">
  <h3>⏭ The Checkpoints</h3>
  <p>
    We've mastered delivery. Now let's talk about security and the Middleware
    Stack.
  </p>
</div>
