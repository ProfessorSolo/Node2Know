---
title: "Sending Responses"
description: "The art of sending a response."
sidebar:
  order: 9
  label: "Sending Responses"
  draft: false
---

import { LinkButton } from "@astrojs/starlight/components";

## The Return Trip

Every request is a journey. The client (browser/phone) drove all the way to your server to get something. If you don't give them a return trip, they just sit there... waiting... forever.

In Express, the **Response Object (`res`)** is how we load the cargo and send the vehicle back home.

<img
  src="/assets/lessons/02-server-express-way/09-loading-dock.png"
  alt="Sci-fi loading dock loading a glowing blue data container onto awaiting transport vehicle."
  width="100%"
/>

_Fig 1: The Loading Dock. Preparing the Payload._

### The Payload

We typically send data back in one of two ways:

1.  **`res.send(body)`**: The general purpose tool. It automatically detects the content type.
    - Pass it a string? Sends `text/html`.
    - Pass it an object/array? Sends `application/json`.
2.  **`res.json(body)`**: The specialist. It **forces** the response to be JSON. It is safer ensuring that `null` or `undefined` are treated as valid JSON values, not errors.

```javascript
// The Generalist (res.send)
app.get("/", (req, res) => {
  res.send("<h1>Welcome to the Dock</h1>"); // Content-Type: text/html
});

// The Specialist (res.json) - PREFERRED for APIs
app.get("/data", (req, res) => {
  // Automatically stringifies the object
  res.json({ status: "loaded", cargo: ["box1", "box2"] });
});
```

:::caution[The Infinite Loop]
**Professor Solo's Directive:** NEVER leave a request hanging.

If your route handler finishes without calling `res.send()`, `res.json()`, or `res.end()`, the client will keep spinning until it times out (usually 2 minutes!). Always close the loop.
:::

---

## Extra Bits & Bytes

<LinkButton
  href="https://expressjs.com/en/4x/api.html#res.send"
  icon="external"
  variant="secondary"
  target="_blank"
>
  Express API: res.send()
</LinkButton>

<div class="next-step">
  <h3>‚è≠ The Manifest</h3>
  <p>
    Before we leave the dock, we need to stamp the package with a Status Code.
  </p>
</div>
